<header class="border-b border-gray-500">
  <h1 id="project-title">
    <%= @project.title %>
  </h1>
  <div class="project-details--short-description text-center text-xl">
    <%= @project.short_description %>
  </div>
</header>

<div class="project-details--content md:flex items-start">
  <div class="project-details-sidebar">
    <div class="project-details--infobox border border-gray-500 shadow">
      <div class="font-medium"><%= translate_category(@project.category) %></div>
      <div class="text-gray-700"><%= @project.date %></div>
      <div class="text-gray-700"><%= @project.location %></div>
      <div class="text-gray-700"><%= @project.budget %></div>
      <%= if @project.client do %>
        <div class="text-gray-700 text-sm">
          Pour
          <span class="text-gray-900 font-medium">
            <%= if @project.client_website do %>
              <a class="hover:text-orange-500" href="<%= @project.client_website %>" target="_blank" data-ignore-navigation>
                <%= @project.client %>
              </a>
            <% else %>
              <%= @project.client %>
            <% end %>
          </span>
        </div>
      <% end %>
    </div>
    <%= if @project.youtube_ids !== [] || @project.vimeo_ids !== [] do %>
      <div data-micromodal-trigger="videos-modal" class="relative cursor-pointer h-32 mb-6">
        <div class="bg-gray-900-60 absolute inset-0 m-2"></div>
        <img class="object-cover h-full w-full" src="<%= @project.cover_url %>/400x400.jpg" />
        <div class="absolute inset-0 text-gray-300 flex items-center justify-center uppercase font-semibold">
          Vid√©o
        </div>
      </div>
    <% end %>
  </div>
  <div>
    <div>
      <div id="description" class="h-24 overflow-y-hidden">
        <%= to_html(@project.description) %>
      </div>
      <div class="text-center">
        <button class="text-orange-500 font-semibold text-sm uppercase" id="more" type="button">+ d'infos</button>
        <button class="text-orange-500 font-semibold text-sm uppercase hidden" id="less" type="button">Voir moins</button>
      </div>
    </div>
    <%= case @photos do %>
      <% {:ok, photos} -> %>
        <ul class="project-details--photos">
          <%= for photo <- photos do %>
            <li>
              <img src="<%= flickr_url(photo) %>" />
            </li>
          <% end %>
        </ul>
      <% {:error, err} -> %>
        <div class="w-full text-center bg-gray-200 text-gray-700 border"><%= err %></div>
    <% end %>
  </div>
</div>
